

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/Layout.cshtml";
}


<div class="row">

    <!-- Örnek: Yıllık Kazanç Kartı -->
    <div class="col-xl-3 col-md-6 mb-4">
        <div class="card border-left-success shadow h-100 py-2">
            <div class="card-body">
                <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                        <div class="text-xs font-weight-bold text-success text-uppercase mb-1">
                            Kasa Kazanç
                        </div>
                        <div class="h5 mb-0 font-weight-bold text-gray-800">@ViewBag.Dgrkasa</div>
                    </div>
                    <div class="col-auto">
                        <i class="fas fa-lira-sign fa-2x text-gray-300"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Örnek: Aylık Kazanç Kartı -->
    <div class="col-xl-3 col-md-6 mb-4">
        <div class="card border-left-primary shadow h-100 py-2">
            <div class="card-body">
                <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                        <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">
                            Üye Sayısı
                        </div>
                        <div class="h5 mb-0 font-weight-bold text-gray-800">@ViewBag.Dgruye</div>
                    </div>
                    <div class="col-auto">
                        <i class="fas fa-person-booth fa-2x text-gray-300"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Örnek: Görevler Kartı -->
    <div class="col-xl-3 col-md-6 mb-4">
        <div class="card border-left-info shadow h-100 py-2">
            <div class="card-body">
                <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                        <div class="text-xs font-weight-bold text-info text-uppercase mb-1">Kitap Sayısı</div>
                        <div class="row no-gutters align-items-center">
                            <div class="col-auto">
                                <div class="h5 mb-0 mr-3 font-weight-bold text-gray-800">@ViewBag.Dgrkitap</div>
                            </div>
                            <div class="col">
                                <div class="progress progress-sm mr-2">
                                    <div class="progress-bar bg-info" role="progressbar" style="width:@ViewBag.Dgrkitap%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-auto">
                        <i class="fas fa-book fa-2x text-gray-300"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Örnek: Bekleyen İstekler Kartı -->
    <div class="col-xl-3 col-md-6 mb-4">
        <div class="card border-left-warning shadow h-100 py-2">
            <div class="card-body">
                <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                        <div class="text-xs font-weight-bold text-warning text-uppercase mb-1">
                            Odünç Verilen Kitap Sayısı
                        </div>
                        <div class="h5 mb-0 font-weight-bold text-gray-800">@ViewBag.Dgrodunc</div>
                    </div>
                    <div class="col-auto">
                        <i class="fas fa-clock fa-2x text-gray-300"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>


<div class="row">
    <div class="col-md-12 mt-4">
        <div class="card border-left-info shadow h-100 py-2">
            <div class="card-body">
                <h6 class="m-0 font-weight-bold text-info">Konumunuza Göre Hava Durumu</h6>
                <div class="row no-gutters align-items-center">
                    <div class="col-md-4">
                        <h3 id="havaDurumuSehir"></h3>
                        <img id="havaDurumuIcon" src="" alt="Hava Durumu Icon" />
                    </div>
                    <div class="col-md-8">
                        <div class="h5 mb-0 font-weight-bold text-gray-800" id="havaDurumuDurum"></div>
                        <div class="h6 mb-0 font-weight-bold text-gray-800" id="havaDurumuSicaklik"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<br />


<div class="row">

    <div class="col-xl-8 col-lg-7">

        <!-- Alan Grafiği -->
        <div class="card shadow mb-4">
            <div class="card-header py-3">
                <h6 class="m-0 font-weight-bold text-primary">Alan Grafiği</h6>
            </div>
            <div class="card-body">
                <div class="chart-area">
                    <!-- Alan grafiği için Canvas -->
                    <canvas id="myAreaChart"></canvas>
                </div>
                <hr>
                Alan grafiği için stil dosyası:
                <code>/js/demo/chart-area-demo.js</code>
            </div>
        </div>

        <!-- Bar Grafiği -->
        <div class="card shadow mb-4">
            <div class="card-header py-3">
                <h6 class="m-0 font-weight-bold text-primary">Bar Grafiği</h6>
            </div>
            <div class="card-body">
                <div class="chart-bar">
                    <!-- Bar grafiği için Canvas -->
                    <canvas id="myBarChart"></canvas>
                </div>
                <hr>
                Bar grafiği için stil dosyası:
                <code>/js/demo/chart-bar-demo.js</code>
            </div>
        </div>

    </div>

    <!-- Donut Grafiği -->
    <div class="col-xl-4 col-lg-5">
        <div class="card shadow mb-4">
            <!-- Card Header - Dropdown -->
            <div class="card-header py-3">
                <h6 class="m-0 font-weight-bold text-primary">Donut Grafiği</h6>
            </div>
            <!-- Card Body -->
            <div class="card-body">
                <div class="chart-pie pt-4">
                    <!-- Donut grafiği için Canvas -->
                    <canvas id="myPieChart"></canvas>
                </div>
                <hr>
                Donut grafiği için stil dosyası:
                <code>/js/demo/chart-pie-demo.js</code>
            </div>
        </div>
    </div>
</div>


<script>
    // Konum bilgisini al ve hava durumu isteğini yap
    function getWeatherByLocation() {
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(
                function (position) {
                    var latitude = position.coords.latitude;
                    var longitude = position.coords.longitude;
                    var apikey = '2560a4a40f2590b38c8bfa73261121fc';
                    var url = `https://api.openweathermap.org/data/2.5/weather?lat=${latitude}&lon=${longitude}&appid=${apikey}&units=metric`;

                    fetch(url)
                        .then(response => response.json())
                        .then(data => {
                            document.getElementById('havaDurumuSehir').innerText = data.name;
                            document.getElementById('havaDurumuIcon').src = `https://openweathermap.org/img/w/${data.weather[0].icon}.png`;
                            document.getElementById('havaDurumuDurum').innerText = data.weather[0].description;
                            document.getElementById('havaDurumuSicaklik').innerText = data.main.temp + '°C';
                        })
                        .catch(error => {
                            console.log('Hava durumu alınırken hata oluştu:', error);
                        });
                },
                function (error) {
                    console.log('Konum bilgisine erişilemedi:', error);
                }
            );
        } else {
            console.log('Tarayıcınız konum bilgisini desteklemiyor.');
        }
    }

    // Sayfa yüklendiğinde hava durumu bilgisini al
    window.onload = getWeatherByLocation;
</script>







<!-- Page level plugins -->
<script src="/startbootstrap/vendor/chart.js/Chart.min.js"></script>

<!-- Page level custom scripts -->
<script src="/startbootstrap/js/demo/chart-area-demo.js"></script>
<script src="/startbootstrap/js/demo/chart-pie-demo.js"></script>
<script src="/startbootstrap/js/demo/chart-bar-demo.js"></script>
